<div class="container">
  <h1>Dashboard Admin</h1>

  <!-- STATISTIQUES GLOBALES -->
  <section class="stats">
    <div class="stat-card">
      <h3>Total vues</h3>
      <p class="big-number">{{ adminService.getTotalViews() }}</p>
    </div>
    <div class="stat-card">
      <h3>Total favoris</h3>
      <p class="big-number">{{ adminService.getTotalFavoris() }}</p>
    </div>
    <div class="stat-card">
      <h3>VidÃ©os publiÃ©es</h3>
      <p class="big-number">{{ videoService.videos().length }}</p>
    </div>
    <div class="stat-card">
      <h3>AbonnÃ©s newsletter</h3>
      <p class="big-number">{{ newsletterService.subscribers().length }}</p>
    </div>
  </section>

  <!-- NAVIGATION ADMIN -->
  <section class="admin-nav">
    <a routerLink="/admin/videos" class="btn">ğŸ“¹ GÃ©rer les vidÃ©os</a>
    <a routerLink="/admin/categories" class="btn">ğŸ“‚ GÃ©rer les catÃ©gories</a>
    <a routerLink="/admin/lives" class="btn">ğŸ”´ GÃ©rer les lives</a>
    <a routerLink="/admin/contacts" class="btn">ğŸ“§ Messages</a>
    <a routerLink="/admin/newsletter" class="btn">ğŸ“¬ AbonnÃ©s</a>
  </section>

  <!-- STATISTIQUES DÃ‰TAILLÃ‰ES -->
  @if (adminService.loading()) {
    <p>Chargement des statistiques...</p>
  } @else if (adminService.stats().length > 0) {
    <section class="stats-details">
      <h2>Statistiques des vidÃ©os</h2>
      <table>
        <thead>
          <tr>
            <th>VidÃ©o</th>
            <th>CatÃ©gorie</th>
            <th>Vues</th>
            <th>Favoris</th>
          </tr>
        </thead>
        <tbody>
          @for (stat of adminService.stats(); track stat.id) {
            <tr>
              <td>{{ stat.video.titre }}</td>
              <td>{{ stat.video.categorie }}</td>
              <td>{{ stat.vues }}</td>
              <td>{{ stat.favoris }}</td>
            </tr>
          }
        </tbody>
      </table>
    </section>
  }

  <!-- CONTACTS NON LUS -->
  @if (contactService.contacts().length > 0) {
    <section class="contacts-preview">
      <h2>Derniers messages ({{ getUnreadContactsCount() }} non lus)</h2>
      <a routerLink="/admin/contacts" class="btn">Voir tous les messages â†’</a>
    </section>
  }
</div>